<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API</title>
    <link rel="icon" href="image/api.svg" type="image/svg+xml">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
<div class="card-container">

    <!-- WebSocket Connection -->
    <div class="card">
        <div class="card-header">
            <span>WebSocket Connection</span>
            <span class="method method-post">WS</span>
        </div>
        <div class="endpoint">/ws</div>
        <div class="input-group">
            <label for="ws-session-id">Session ID</label>
            <input id="ws-session-id" type="text" placeholder="Enter session ID">
        </div>
        <div class="ws-controls">
            <button id="ws-connect-button" onclick="connectWebSocket()">Connect</button>
            <button onclick="disconnectWebSocket()">Disconnect</button>
        </div>
        <div class="ws-status disconnected" id="ws-status">Disconnected</div>
    </div>

    <!-- Chat Endpoints -->
    <!-- Create Chat Message -->
    <div class="card">
        <div class="card-header">
            <span>Create Chat Message</span>
            <span class="method method-post">POST</span>
        </div>
        <div class="endpoint">/api/chat</div>
        <div class="input-group">
            <label for="chat-post-from">From Session ID</label>
            <input id="chat-post-from" type="text" placeholder="Enter fromSessionId">
        </div>
        <div class="input-group">
            <label for="chat-post-to">To Session ID</label>
            <input id="chat-post-to" type="text" placeholder="Enter toSessionId">
        </div>
        <div class="input-group">
            <label for="chat-post-content">Content</label>
            <input id="chat-post-content" type="text" placeholder="Enter message content">
        </div>
        <button onclick="testEndpoint('chat-post')">Send</button>
        <div class="response" id="chat-post-response"></div>
    </div>

    <!-- Get Chat Message -->
    <div class="card">
        <div class="card-header">
            <span>Get Chat Message</span>
            <span class="method method-get">GET</span>
        </div>
        <div class="endpoint">/api/chat/{id}</div>
        <div class="input-group">
            <label for="chat-get-id">Message ID</label>
            <input id="chat-get-id" type="text" placeholder="Enter messageId">
        </div>
        <button onclick="testEndpoint('chat-get')">Send</button>
        <div class="response" id="chat-get-response"></div>
    </div>

    <!-- Get All Chat Messages -->
    <div class="card">
        <div class="card-header">
            <span>Get All Chat Messages</span>
            <span class="method method-get">GET</span>
        </div>
        <div class="endpoint">/api/chat</div>
        <button onclick="testEndpoint('chat-get-all')">Send</button>
        <div class="response" id="chat-get-all-response"></div>
    </div>

    <!-- Update Chat Message -->
    <div class="card">
        <div class="card-header">
            <span>Update Chat Message</span>
            <span class="method method-put">PUT</span>
        </div>
        <div class="endpoint">/api/chat/{id}</div>
        <div class="input-group">
            <label for="chat-put-id">Message ID</label>
            <input id="chat-put-id" type="text" placeholder="Enter messageId">
        </div>
        <div class="input-group">
            <label for="chat-put-from">From Session ID</label>
            <input id="chat-put-from" type="text" placeholder="Enter fromSessionId">
        </div>
        <div class="input-group">
            <label for="chat-put-to">To Session ID</label>
            <input id="chat-put-to" type="text" placeholder="Enter toSessionId">
        </div>
        <div class="input-group">
            <label for="chat-put-content">Content</label>
            <input id="chat-put-content" type="text" placeholder="Enter message content">
        </div>
        <button onclick="testEndpoint('chat-put')">Send</button>
        <div class="response" id="chat-put-response"></div>
    </div>

    <!-- Delete Chat Message -->
    <div class="card">
        <div class="card-header">
            <span>Delete Chat Message</span>
            <span class="method method-delete">DELETE</span>
        </div>
        <div class="endpoint">/api/chat/{id}</div>
        <div class="input-group">
            <label for="chat-delete-id">Message ID</label>
            <input id="chat-delete-id" type="text" placeholder="Enter messageId">
        </div>
        <button onclick="testEndpoint('chat-delete')">Send</button>
        <div class="response" id="chat-delete-response"></div>
    </div>

    <!-- Get Chat History -->
    <div class="card">
        <div class="card-header">
            <span>Get Chat History</span>
            <span class="method method-get">GET</span>
        </div>
        <div class="endpoint">/api/chat/history?sessionId1={id}&sessionId2={id}</div>
        <div class="input-group">
            <label for="chat-history-session1">Session ID 1</label>
            <input id="chat-history-session1" type="text" placeholder="Enter sessionId1">
        </div>
        <div class="input-group">
            <label for="chat-history-session2">Session ID 2</label>
            <input id="chat-history-session2" type="text" placeholder="Enter sessionId2">
        </div>
        <button onclick="testEndpoint('chat-history')">Send</button>
        <div class="response" id="chat-history-response"></div>
    </div>

    <!-- Queue Endpoints -->
    <!-- Create Queue User -->
    <div class="card">
        <div class="card-header">
            <span>Create Queue User</span>
            <span class="method method-post">POST</span>
        </div>
        <div class="endpoint">/api/queue</div>
        <div class="input-group">
            <label for="queue-post-session">Session ID</label>
            <input id="queue-post-session" type="text" placeholder="Enter sessionId">
        </div>
        <button onclick="testEndpoint('queue-post')">Send</button>
        <div class="response" id="queue-post-response"></div>
    </div>

    <!-- Get Queue User -->
    <div class="card">
        <div class="card-header">
            <span>Get Queue User</span>
            <span class="method method-get">GET</span>
        </div>
        <div class="endpoint">/api/queue/{sessionId}</div>
        <div class="input-group">
            <label for="queue-get-session">Session ID</label>
            <input id="queue-get-session" type="text" placeholder="Enter sessionId">
        </div>
        <button onclick="testEndpoint('queue-get')">Send</button>
        <div class="response" id="queue-get-response"></div>
    </div>

    <!-- Get All Queue Users -->
    <div class="card">
        <div class="card-header">
            <span>Get All Queue Users</span>
            <span class="method method-get">GET</span>
        </div>
        <div class="endpoint">/api/queue</div>
        <button onclick="testEndpoint('queue-get-all')">Send</button>
        <div class="response" id="queue-get-all-response"></div>
    </div>

    <!-- Update Queue User -->
    <div class="card">
        <div class="card-header">
            <span>Update Queue User</span>
            <span class="method method-put">PUT</span>
        </div>
        <div class="endpoint">/api/queue/{sessionId}</div>
        <div class="input-group">
            <label for="queue-put-session">Session ID</label>
            <input id="queue-put-session" type="text" placeholder="Enter sessionId">
        </div>
        <div class="input-group">
            <label for="queue-put-matched">Matched</label>
            <input id="queue-put-matched" type="checkbox">
        </div>
        <button onclick="testEndpoint('queue-put')">Send</button>
        <div class="response" id="queue-put-response"></div>
    </div>

    <!-- Delete Queue User -->
    <div class="card">
        <div class="card-header">
            <span>Delete Queue User</span>
            <span class="method method-delete">DELETE</span>
        </div>
        <div class="endpoint">/api/queue/{sessionId}</div>
        <div class="input-group">
            <label for="queue-delete-session">Session ID</label>
            <input id="queue-delete-session" type="text" placeholder="Enter sessionId">
        </div>
        <button onclick="testEndpoint('queue-delete')">Send</button>
        <div class="response" id="queue-delete-response"></div>
    </div>

    <!-- Session Endpoints -->
    <!-- Create Session -->
    <div class="card">
        <div class="card-header">
            <span>Create Session</span>
            <span class="method method-post">POST</span>
        </div>
        <div class="endpoint">/api/sessions</div>
        <div class="input-group">
            <label for="session-post-user1">User Session ID 1</label>
            <input id="session-post-user1" type="text" placeholder="Enter userSessionId1">
        </div>
        <div class="input-group">
            <label for="session-post-user2">User Session ID 2</label>
            <input id="session-post-user2" type="text" placeholder="Enter userSessionId2">
        </div>
        <button onclick="testEndpoint('session-post')">Send</button>
        <div class="response" id="session-post-response"></div>
    </div>

    <!-- Get Session -->
    <div class="card">
        <div class="card-header">
            <span>Get Session</span>
            <span class="method method-get">GET</span>
        </div>
        <div class="endpoint">/api/sessions/{id}</div>
        <div class="input-group">
            <label for="session-get-id">Session ID</label>
            <input id="session-get-id" type="text" placeholder="Enter sessionId">
        </div>
        <button onclick="testEndpoint('session-get')">Send</button>
        <div class="response" id="session-get-response"></div>
    </div>

    <!-- Get All Sessions -->
    <div class="card">
        <div class="card-header">
            <span>Get All Sessions</span>
            <span class="method method-get">GET</span>
        </div>
        <div class="endpoint">/api/sessions</div>
        <button onclick="testEndpoint('session-get-all')">Send</button>
        <div class="response" id="session-get-all-response"></div>
    </div>

    <!-- Update Session -->
    <div class="card">
        <div class="card-header">
            <span>Update Session</span>
            <span class="method method-put">PUT</span>
        </div>
        <div class="endpoint">/api/sessions/{id}</div>
        <div class="input-group">
            <label for="session-put-id">Session ID</label>
            <input id="session-put-id" type="text" placeholder="Enter sessionId">
        </div>
        <div class="input-group">
            <label for="session-put-user1">User Session ID 1</label>
            <input id="session-put-user1" type="text" placeholder="Enter userSessionId1">
        </div>
        <div class="input-group">
            <label for="session-put-user2">User Session ID 2</label>
            <input id="session-put-user2" type="text" placeholder="Enter userSessionId2">
        </div>
        <div class="input-group">
            <label for="session-put-active">Active</label>
            <input id="session-put-active" type="checkbox">
        </div>
        <button onclick="testEndpoint('session-put')">Send</button>
        <div class="response" id="session-put-response"></div>
    </div>

    <!-- Delete Session -->
    <div class="card">
        <div class="card-header">
            <span>Delete Session</span>
            <span class="method method-delete">DELETE</span>
        </div>
        <div class="endpoint">/api/sessions/{id}</div>
        <div class="input-group">
            <label for="session-delete-id">Session ID</label>
            <input id="session-delete-id" type="text" placeholder="Enter sessionId">
        </div>
        <button onclick="testEndpoint('session-delete')">Send</button>
        <div class="response" id="session-delete-response"></div>
    </div>

    <!-- Send Chat Message -->
    <div class="card">
        <div class="card-header">
            <span>Send Chat Message</span>
            <span class="method method-post">WS</span>
        </div>
        <div class="endpoint">/app/session.message</div>
        <div class="input-group">
            <label for="ws-chat-session">Session ID</label>
            <input id="ws-chat-session" type="text" placeholder="Enter sessionId">
        </div>
        <div class="input-group">
            <label for="ws-chat-target">Target Session ID</label>
            <input id="ws-chat-target" type="text" placeholder="Enter targetSessionId">
        </div>
        <div class="input-group">
            <label for="ws-chat-content">Content</label>
            <input id="ws-chat-content" type="text" placeholder="Enter message content">
        </div>
        <button onclick="testEndpoint('ws-chat')">Send</button>
        <div class="response" id="ws-chat-response"></div>
    </div>

    <!-- Join Queue -->
    <div class="card">
        <div class="card-header">
            <span>Join Queue</span>
            <span class="method method-post">WS</span>
        </div>
        <div class="endpoint">/app/queue.join</div>
        <div class="input-group">
            <label for="ws-queue-join-session">Session ID</label>
            <input id="ws-queue-join-session" type="text" placeholder="Enter sessionId">
        </div>
        <button onclick="testEndpoint('ws-queue-join')">Send</button>
        <div class="response" id="ws-queue-join-response"></div>
    </div>

    <!-- Leave Queue -->
    <div class="card">
        <div class="card-header">
            <span>Leave Queue</span>
            <span class="method method-post">WS</span>
        </div>
        <div class="endpoint">/app/queue.leave</div>
        <div class="input-group">
            <label for="ws-queue-leave-session">Session ID</label>
            <input id="ws-queue-leave-session" type="text" placeholder="Enter sessionId">
        </div>
        <button onclick="testEndpoint('ws-queue-leave')">Send</button>
        <div class="response" id="ws-queue-leave-response"></div>
    </div>

    <!-- Send Signal -->
    <div class="card">
        <div class="card-header">
            <span>Send Signal</span>
            <span class="method method-post">WS</span>
        </div>
        <div class="endpoint">/app/session.signal</div>
        <div class="input-group">
            <label for="ws-signal-type">Type</label>
            <select id="ws-signal-type">
                <option value="OFFER">OFFER</option>
                <option value="ANSWER">ANSWER</option>
                <option value="ICE">ICE</option>
            </select>
        </div>
        <div class="input-group">
            <label for="ws-signal-session">Session ID</label>
            <input id="ws-signal-session" type="text" placeholder="Enter sessionId">
        </div>
        <div class="input-group">
            <label for="ws-signal-target">Target Session ID</label>
            <input id="ws-signal-target" type="text" placeholder="Enter targetSessionId">
        </div>
        <div class="input-group">
            <label for="ws-signal-sdp">SDP</label>
            <input id="ws-signal-sdp" type="text" placeholder="Enter SDP JSON">
        </div>
        <button onclick="testEndpoint('ws-signal')">Send</button>
        <div class="response" id="ws-signal-response"></div>
    </div>

    <!-- Disconnect Session -->
    <div class="card">
        <div class="card-header">
            <span>Disconnect Session</span>
            <span class="method method-post">WS</span>
        </div>
        <div class="endpoint">/app/session.disconnect</div>
        <div class="input-group">
            <label for="ws-disconnect-session">Session ID</label>
            <input id="ws-disconnect-session" type="text" placeholder="Enter sessionId">
        </div>
        <div class="input-group">
            <label for="ws-disconnect-target">Target Session ID</label>
            <input id="ws-disconnect-target" type="text" placeholder="Enter targetSessionId">
        </div>
        <button onclick="testEndpoint('ws-disconnect')">Send</button>
        <div class="response" id="ws-disconnect-response"></div>
    </div>
</div>

<!-- Scripts -->
<script src="https://cdn.jsdelivr.net/npm/sockjs-client@1/dist/sockjs.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/stompjs@2.3.3/lib/stomp.min.js"></script>
<script type="module" src="js/utils/utils.js"></script>
<script type="module" src="js/api/chatApi.js"></script>
<script type="module" src="js/api/queueApi.js"></script>
<script type="module" src="js/api/sessionApi.js"></script>
<script type="module" src="js/api/webSocket.js"></script>
<script type="module" src="js/ui/ui.js"></script>
<script type="module" src="js/main.js"></script>
</body>
</html>